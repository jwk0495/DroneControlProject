using UnityEngine;

public class Roof : MonoBehaviour
{
    public GameObject Roof1;
    public GameObject Roof2;

    private float moveDuration = 5f; // ????? ????? ?รฐ?
    private float roof1MoveAmount = -2f; // Roof1?? ????? ??? 
    private float roof2MoveAmount = -1f; // Roof2?? ????? ??? 

    private Vector3 roof1StartPosition;
    private Vector3 roof1TargetPosition;
    private Vector3 roof2StartPosition;
    private Vector3 roof2TargetPosition;

    private float elapsedTime = 0f;
    private bool isMoving = true; // ????? ???? ?????? ????

    void Start()
    {
       
        // ?? ????????? ??? ??? ????
        roof1StartPosition = Roof1.transform.position;
        roof2StartPosition = Roof2.transform.position;

        // ?? ????????? ??? ??? ???
        // ?????? Y?????? ??????? ????????.
        roof1TargetPosition = roof1StartPosition + new Vector3(0, 0, roof1MoveAmount);
        roof2TargetPosition = roof2StartPosition + new Vector3(0, 0, roof2MoveAmount);
    }

    void Update()
    {
        if (isMoving)
        {
            // ?รฐ? ????
            elapsedTime += Time.deltaTime;

            // 0~1 ????? ???? ???? ???
            float t = Mathf.Clamp01(elapsedTime / moveDuration);

            // Roof1 ??? ????
            Roof1.transform.position = Vector3.Lerp(roof1StartPosition, roof1TargetPosition, t);

            // Roof2 ??? ????
            Roof2.transform.position = Vector3.Lerp(roof2StartPosition, roof2TargetPosition, t);

            // ????? ????????? ?????
            if (t >= 1f)
            {
                isMoving = false;
            }
        }
    }
}